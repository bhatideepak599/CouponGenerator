{"ast":null,"code":"var _jsxFileName = \"/home/bhatideepak599/CascadeProjects/coupon-generator/frontend/src/components/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Button, TextField, Typography, Container, Paper, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\nimport Navbar from '../common/Navbar';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    role: 'ROLE_USER'\n  });\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await auth.login({\n        email: formData.email,\n        password: formData.password\n      });\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('role', formData.role);\n      if (formData.role === 'ROLE_ADMIN') {\n        navigate('/admin/dashboard');\n      } else {\n        navigate('/user/dashboard');\n      }\n    } catch (err) {\n      setError('Invalid credentials');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: 4,\n          mt: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          align: \"center\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          sx: {\n            mt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"Email Address\",\n            name: \"email\",\n            autoComplete: \"email\",\n            value: formData.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            name: \"password\",\n            label: \"Password\",\n            type: \"password\",\n            id: \"password\",\n            value: formData.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            sx: {\n              mt: 5\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Login As\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              name: \"role\",\n              value: formData.role,\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"ROLE_USER\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"ROLE_ADMIN\",\n                children: \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 3\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            align: \"center\",\n            sy: {\n              mt: 2\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2\n            },\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"text\",\n            onClick: () => navigate('/register'),\n            children: \"Don't have an account? Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"8rYAgQ27zDTIx/VU76yal24iUwg=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Box","Button","TextField","Typography","Container","Paper","FormControl","InputLabel","Select","MenuItem","Navbar","useNavigate","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","navigate","formData","setFormData","email","password","role","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","response","login","localStorage","setItem","data","token","err","children","fileName","_jsxFileName","lineNumber","columnNumber","component","maxWidth","elevation","sx","p","mt","variant","align","onSubmit","margin","required","fullWidth","id","label","autoComplete","onChange","type","color","sy","mb","onClick","_c","$RefreshReg$"],"sources":["/home/bhatideepak599/CascadeProjects/coupon-generator/frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  Container,\n  Paper,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from '@mui/material';\nimport Navbar from '../common/Navbar';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../../services/api';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    role: 'ROLE_USER',\n  });\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await auth.login({\n        email: formData.email,\n        password: formData.password,\n      });\n      \n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('role', formData.role);\n      \n      if (formData.role === 'ROLE_ADMIN') {\n        navigate('/admin/dashboard');\n      } else {\n        navigate('/user/dashboard');\n      }\n    } catch (err) {\n      setError('Invalid credentials');\n    }\n  };\n\n  return (\n    <>\n      <Navbar />\n      <Container component=\"main\" maxWidth=\"xs\">\n      <Paper elevation={3} sx={{ p: 4, mt: 8 }}>\n        <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n          Login\n        </Typography>\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n          />\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n          />\n          <FormControl fullWidth margin=\"normal\" sx={{ mt: 5 }}>\n  <InputLabel>Login As</InputLabel>\n  <Select\n    name=\"role\"\n    value={formData.role}\n    onChange={handleChange}\n  >\n    <MenuItem value=\"ROLE_USER\">User</MenuItem>\n    <MenuItem value=\"ROLE_ADMIN\">Admin</MenuItem>\n  </Select>\n</FormControl>\n\n          {error && (\n            <Typography color=\"error\" align=\"center\" sy={{ mt: 2 }}>\n              {error}\n            </Typography>\n          )}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Sign In\n          </Button>\n          <Button\n            fullWidth\n            variant=\"text\"\n            onClick={() => navigate('/register')}\n          >\n            Don't have an account? Sign Up\n          </Button>\n        </Box>\n        </Paper>\n      </Container>\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}